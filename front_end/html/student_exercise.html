{% if course_basics["exists"] %}
    {% if assignment_basics["exists"] %}
        {% if exercise_basics["exists"] %}
            <h2>{{ student_info["name"] }}'s submissions</h2>

            <div>
                <h4 style="display: inline-block;">{{ exercise_basics["assignment"]["title"] }}</h4>
                <br /><h5>{{ exercise_basics["title"] }}</h5>
                <a href="/exercise/{{ course_basics['id'] }}/{{ assignment_basics['id'] }}/{{ exercise_basics['id'] }}" class="button is-small is-light is-pulled-right">View exercise</a>
            </div>

            <p>{{ exercise_details["instructions"] }}</p>

            <h2>Instructor's solution:</h2>

            <pre>{{ exercise_details["answer_code"]}}</pre>

            <p>
                <div>
                    <h2 id="your_code_header" style="display: inline">Student's solution:</h2>
                </div>
            </p>

            <p>
                <textarea class="textarea is-info is-normal is-medium is-fullwidth monospace" placeholder="Type your solution here" rows="15" id="user_code"></textarea>
            </p>
            <br />
            
            <div id="revert_div" hidden></div>

            <div id="submissions"></div>

            <p><div id="result"></div></p>

            <div>
                <h2 style="display: inline">Expected output:</h2>
            </div>

            {% if exercise_details["output_type"] == "txt" %}
                <p><pre>{{ exercise_details["expected_text_output"] }}</pre></p>
            {% else %}
                <p><figure class="img"><img src="data:image/jpg;base64,{{ exercise_details['expected_image_output'] }}" width="100%"/></figure></p>
            {% end %}

            {% if exercise_details["back_end"] != "any_response" %}
                <p><span id="code_output"></span></p>

                {% if exercise_details["show_expected"] %}
                    <p><span id="diff_output"></span></p>
                {% end %}
            {% end %}
