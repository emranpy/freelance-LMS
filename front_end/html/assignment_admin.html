{% if course_basics["exists"] %}
  <h2>{{ assignment_basics["title"] }}</h2>

  {% if assignment_basics["exists"] %}
    <p>{{ assignment_details["introduction"] }}</p>

    {% if len(problems) > 0 %}

      <table class="table" id="assignment_table">
        <thead>
          <tr>
            <th>Problem</th>
            <th>Visibility</th>
            <th>See Scores</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          {% for problem in problems %}
            <tr>
              <td><a href="/problem/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}/{{ problem[0] }}">{{ problem[1]["title"] }}</a></td>
              {% if problem[1]["visible"] == 0 %}
                <td>Hidden</td>
                <td> </td>
              {% else %}
                <td>Visible</td>
                <td><a href="/problem_scores/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}/{{ problem[0] }}">Scores</a></td>
              {% end %}
              <td>
                <a href="/edit_problem/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}/{{ problem[1]["id"] }}">
                  <img src="/static/editicon.png" alt="Edit problem" height="25px" width="25px">
                </a>
              </td>
              <td>
                <a href="/delete_problem/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}/{{ problem[1]["id"] }}">
                  <img src="/static/trashcan.png" alt="Delete problem" height="25px" width="25px">
                </a> 
              </td>
            </tr>
          {% end %}  
        </tbody>
      </table>
    {% else %}
    <p><strong>No problems have been created for this assignment.</strong></p>
    {% end %}

    <p>
      <p>
        <a class="button is-small is-rounded is-primary" onclick="window.location.href='/edit_problem/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}/';">
          <span>New problem</span>
        </a>
      </p>
      <p>
        <a class="button is-small is-rounded is-link" onclick="window.location.href='/view_scores/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}';">
          <span>View scores</span>
        </a>
      </p>
      <p>
        <a href="/course/{{ course_basics["id"] }}">Back to course</a> |
        <a href="/edit_assignment/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}">Edit assignment</a>

        {% if role == "administrator" or role == "instructor" %}
          | <a href="/delete_assignment/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}">Delete assignment</a>
          | <a href="/delete_assignment_submissions/{{ course_basics["id"] }}/{{ assignment_basics["id"] }}">Delete assignment submissions</a>
        {% end %}
      </p>
    </p>
  {% else %}
    <p>This assignment does not exist.</p>
  {% end %}
{% else %}
  <p>This course does not exist.</p>
{% end %}
<br /><br />